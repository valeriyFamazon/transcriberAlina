# üé§ –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ç–æ—Ä —Ä–µ—á–∏ —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π (Windows, FastAPI + React)

–ï–¥–∏–Ω—ã–π README, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –≤—Å–µ .md –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞: –æ–±–∑–æ—Ä, –∑–∞–ø—É—Å–∫, –ø—Ä–æ—Ç–æ–∫–æ–ª, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, —á–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Å—Ç–∞—Ç—É—Å —Ñ–∏–∫—Å–æ–≤.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üéôÔ∏è **–†–µ–∞–ª‚Äë—Ç–∞–π–º —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** (WebSocket)
- üë• **–î–∏–∞—Ä–∏–∑–∞—Ü–∏—è** (pyannote, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- üåç **–Ø–∑—ã–∫–∏:** ru, en, uk
- üéµ **–ò—Å—Ç–æ—á–Ω–∏–∫–∏:** –º–∏–∫—Ä–æ—Ñ–æ–Ω, —Å–∏—Å—Ç–µ–º–Ω—ã–π –∑–≤—É–∫ (—á–µ—Ä–µ–∑ VB‚ÄëCable)
- üßπ **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ:** high‚Äëpass —Ñ–∏–ª—å—Ç—Ä + VAD (webrtcvad) –¥–ª—è –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞/—Ç–∏—à–∏–Ω—ã
- üìã **UI:** –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ/–æ—á–∏—Å—Ç–∫–∞, –≤—ã–±–æ—Ä –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —É—Ä–æ–≤–Ω—è

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Windows 10+
- Python 3.9.x (—Å—Ç—Ä–æ–≥–æ)
- Node.js 16+ (LTS)
- FFmpeg –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –≤ `transcriber/` (`ffmpeg.exe`, `ffprobe.exe`)
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç (OpenAI API, –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π)
- –î–æ–ø. –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è: `webrtcvad`

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
  - `OPENAI_API_KEY` ‚Äî –∫–ª—é—á OpenAI
  - `HF_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Hugging Face (–¥–ª—è pyannote)
- –ü–æ—Ä—Ç—ã: FE `5173`, BE `8001`
- –ü—É—Ç—å –∫ FFmpeg –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –∫–æ—Ä–Ω—è `transcriber/`

## üöÄ –ó–∞–ø—É—Å–∫
–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±:

```bat
transcriber\start.bat
```

–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:
```bat
cd transcriber\backend
pip install -r requirements.txt
python main_simple.py  # –æ–Ω–ª–∞–π–Ω —Ä–µ–∂–∏–º (OpenAI)

cd ..\frontend
npm install
npm run dev
```

–ê–¥—Ä–µ—Å–∞: FE `http://localhost:5173`, BE `http://localhost:8001`

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–µ–∂–∏–º—ã
- `backend/main_simple.py` ‚Äî –±–∞–∑–æ–≤—ã–π –æ–Ω–ª–∞–π–Ω —Ä–µ–∂–∏–º (OpenAI Whisper API)
- `backend/main.py` ‚Äî –æ–Ω–ª–∞–π–Ω —Ä–µ–∂–∏–º + –¥–∏–∞—Ä–∏–∑–∞—Ü–∏—è (pyannote, HF —Ç–æ–∫–µ–Ω)
- `backend/main_offline.py` ‚Äî –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º (–ª–æ–∫–∞–ª—å–Ω—ã–π `openai-whisper`), –±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API
- Frontend (Vite + React) —à–ª—ë—Ç —á–∞–Ω–∫–∏ –∞—É–¥–∏–æ base64 –ø–æ WS `ws://localhost:8001/ws`

### –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ (backend)
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö —á–∞–Ω–∫–æ–≤ ‚Üí WAV 16kHz mono
- High‚Äëpass —Ñ–∏–ª—å—Ç—Ä (80 Hz) –¥–ª—è —Å—Ä–µ–∑–∞ –Ω–∏–∑–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–≥–æ –≥—É–ª–∞
- VAD (webrtcvad, –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å 2) ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ç–∏—à–∏–Ω—ã/—Ñ–æ–Ω–æ–≤–æ–≥–æ —à—É–º–∞
- –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –æ—Ç –º—É—Å–æ—Ä–Ω—ã—Ö –≤—Å—Ç–∞–≤–æ–∫ –≤—Ä–æ–¥–µ ¬´–°—É–±—Ç–∏—Ç—Ä—ã –¥–µ–ª–∞–ª ...¬ª, ¬´–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç...¬ª, `[–º—É–∑—ã–∫–∞]`

### WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª (frontend ‚Üí backend)
```json
{
  "type": "start|audio|stop",
  "data": "base64_audio_data",
  "format": "audio/webm;codecs=opus",
  "language": "ru|en|uk"
}
```

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ (backend ‚Üí frontend)
```json
{
  "type": "transcription|status|error",
  "text": "—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π_—Ç–µ–∫—Å—Ç",
  "speaker": "SPEAKER_00",
  "language": "ru"
}
```

## üîä –°–∏—Å—Ç–µ–º–Ω—ã–π –∑–≤—É–∫ (VB‚ÄëCable)
1) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `VB-Cable` (vb-audio.com/Cable) –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å
2) Windows ‚Üí –ó–≤—É–∫: –í—ã–≤–æ–¥ `CABLE Input`, –í–≤–æ–¥ `CABLE Output`
3) –í UI –≤—ã–±—Ä–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ ¬´–°–∏—Å—Ç–µ–º–Ω—ã–π –∑–≤—É–∫¬ª

## üß™ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ç–µ—Å—Ç—ã
- `check_dependencies.py` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã/–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π/FFmpeg/Node
- `cleanup_temp.py` ‚Äî —Å–ø–∏—Å–æ–∫/–æ—á–∏—Å—Ç–∫–∞ `transcriber/temp`
- `debug_webm.py` ‚Äî –∞–Ω–∞–ª–∏–∑ WebM + ffprobe + –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
- `test_ffmpeg.py` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ FFmpeg –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å pydub
- `test_transcription.py` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–Ω—É—Å–∞ ‚Üí –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è ‚Üí OpenAI
- `test_working_wav.py` ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö WAV –≤ OpenAI
- `test_system.py` ‚Äî e2e‚Äë–ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã)

–ü–æ–ª–µ–∑–Ω—ã–µ –ø–∞–ø–∫–∏:
- `transcriber/temp/` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (WebM/WAV) –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üõü –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
1) FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω / –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø–∞–¥–∞–µ—Ç
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `ffmpeg.exe` –∏ `ffprobe.exe` –ª–µ–∂–∞—Ç –≤ `transcriber/`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `check_dependencies.py` –∏ `test_ffmpeg.py`

2) –ü–∏—à–µ—Ç—Å—è –Ω–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω, –∞ ¬´—Å–∏—Å—Ç–µ–º–Ω—ã–µ¬ª —Å—É–±—Ç–∏—Ç—Ä—ã
   - –û—Ç–∫—Ä–æ–π—Ç–µ `debug_microphone.html`, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –º–∏–∫—Ä–æ—Ñ–æ–Ω
   - –í Windows –æ—Ç–∫–ª—é—á–∏—Ç–µ ¬´–°—Ç–µ—Ä–µ–æ –º–∏–∫—à–µ—Ä¬ª, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ¬´–í–≤–æ–¥¬ª

3) –ü—É—Å—Ç–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
   - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç/–∫–ª—é—á OpenAI, –≥—Ä–æ–º–∫–æ—Å—Ç—å/—à—É–º, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤ UI

4) WebM –ø–æ–≤—Ä–µ–∂–¥—ë–Ω (EBML header parsing failed)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —á–∞–Ω–∫–æ–≤ —Å —Ñ—Ä–æ–Ω—Ç–∞ (base64 –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, —Ä–∞–∑–º–µ—Ä > 0)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fallback (–ø—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ OpenAI) –∏–ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é

5) –í —Ç–µ–∫—Å—Ç–µ –ø–æ–ø–∞–¥–∞—é—Ç—Å—è ¬´–ª–∏—à–Ω–∏–µ¬ª —Ñ—Ä–∞–∑—ã (—Å—É–±—Ç–∏—Ç—Ä—ã/–∑–∞—Å—Ç–∞–≤–∫–∏)
   - –í–∫–ª—é—á–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ —Å—Ç–æ–ø‚Äë—Ñ—Ä–∞–∑ –≤ `clean_transcript_text()`

## üìí –°–≤–æ–¥–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (–∫–æ–Ω–¥–µ–Ω—Å–∞—Ç –∏–∑ FIXES_*, PROBLEM_SOLVED, FINAL_*)
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è WebM ‚Üí WAV –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ OpenAI
- –ü—Ä—è–º–æ–π fallback upload –≤ OpenAI –ø—Ä–∏ –æ—à–∏–±–∫–µ FFmpeg/pydub
- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤, –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ FFmpeg
- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —É—Ä–æ–≤–Ω—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ
- –ê–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WebSocket –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ start/stop

–û–∂–∏–¥–∞–µ–º–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: 1‚Äì3 —Å–µ–∫; —Ç–æ—á–Ω–æ—Å—Ç—å 85‚Äì95% (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞—É–¥–∏–æ)

## ‚ö†Ô∏è –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∏ —á—Ç–æ –Ω–∞–¥–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: —É–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –∫–ª—é—á–µ–π –∏–∑ –∫–æ–¥–∞
  - `backend/main_simple.py`, `backend/main.py`, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã ‚Äî —á–∏—Ç–∞—Ç—å `OPENAI_API_KEY`/`HF_TOKEN` –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `backend/main_simple.py` ‚Äî –æ—à–∏–±–∫–∏ –∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `time` –±–µ–∑ –∏–º–ø–æ—Ä—Ç–∞; –¥–æ–±–∞–≤–∏—Ç—å `import time`
  - –í `transcribe_audio_chunk()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `audio_format` (L203), –Ω–æ —ç—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏; –Ω—É–∂–Ω–æ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –∏–∑ WS‚Äë–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `openai.Audio.atranscribe` (async), –ø—Ä–∏ `openai==0.28.1` —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ `openai.Audio.transcribe` (sync) –≤–Ω—É—Ç—Ä–∏ `run_in_executor` –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å sync‚Äë–≤—ã–∑–æ–≤

- `backend/main_offline.py` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏ —á—Ç–µ–Ω–∏–µ –≤—Ö–æ–¥–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
  - `process_audio_data()` —Å–æ–∑–¥–∞—ë—Ç –ø—É—Å—Ç–æ–π –≤—Ä–µ–º–µ–Ω–Ω—ã–π `.webm` –∏ —á–∏—Ç–∞–µ—Ç –µ–≥–æ, –∏–≥–Ω–æ—Ä–∏—Ä—É—è —Ä–µ–∞–ª—å–Ω—ã–µ –±–∞–π—Ç—ã
  - –ù—É–∂–Ω–æ –ª–∏–±–æ —á–∏—Ç–∞—Ç—å –∏–∑ `io.BytesIO(audio_data)`, –ª–∏–±–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å `audio_data` –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏ —Ç–æ–ª—å–∫–æ –∑–∞—Ç–µ–º –∑–∞–≥—Ä—É–∂–∞—Ç—å —á–µ—Ä–µ–∑ pydub
  - –ü—Ä–∏ —Ñ–æ–ª–±—ç–∫–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Å—ã—Ä—ã–µ WebM‚Äë–±–∞–π—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç–µ–º —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ `.wav` ‚Äî –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç—É; –Ω—É–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å WAV‚Äë–∫–æ–Ω—Ç–µ–Ω—Ç

- –¢–µ—Å—Ç—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–∫—É—â–µ–º—É –∫–æ–¥—É
  - `backend/test_main_simple.py` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `TranscriptionManager`, `process_audio_data`, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ `main_simple.py` —Å–µ–π—á–∞—Å ‚Äî —Ç–µ—Å—Ç—ã —É—Å—Ç–∞—Ä–µ–ª–∏ –∏ –±—É–¥—É—Ç –ø–∞–¥–∞—Ç—å. –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–æ–¥ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ API –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–±—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã.

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ temp‚Äë—Ñ–∞–π–ª–∞—Ö —Ä–∞—Å—Ö–æ–¥–∏—Ç—Å—è —Å –∫–æ–¥–æ–º
  - –î–æ–∫‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü—ã —É—Ç–≤–µ—Ä–∂–¥–∞—é—Ç, —á—Ç–æ –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞, –Ω–æ `main_simple.py` —É–¥–∞–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ `finally`. –†–µ—à–∏—Ç—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ: –ª–∏–±–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∏ –æ–ø–∏—Å–∞—Ç—å –∞–≤—Ço–æ—á–∏—Å—Ç–∫—É, –ª–∏–±–æ –≤—ã–∫–ª—é—á–∏—Ç—å –≤ –∫–æ–¥–µ –Ω–∞ –≤—Ä–µ–º—è –æ—Ç–ª–∞–¥–∫–∏

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ (–º–∏–Ω–∏–º—É–º –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã)
1) –í—ã–Ω–µ—Å—Ç–∏ `OPENAI_API_KEY`/`HF_TOKEN` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è; —É–¥–∞–ª–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥
2) `main_simple.py`:
   - –¥–æ–±–∞–≤–∏—Ç—å `import time`
   - –≤ `websocket_endpoint` –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `audio_format` –≤ `transcribe_audio_chunk(audio_data, audio_format)`; –≤–Ω—É—Ç—Ä–∏ –≤—ã–±–∏—Ä–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ/–∫–æ–Ω–≤–µ—Ä—Å–∏—é —Å–æ–≥–ª–∞—Å–Ω–æ —Ñ–æ—Ä–º–∞—Ç—É
   - –∑–∞–º–µ–Ω–∏—Ç—å `atranscribe` –Ω–∞ –Ω–∞–¥—ë–∂–Ω—ã–π –ø—É—Ç—å (sync API –≤ executor –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π async)
3) `main_offline.py`:
   - –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å `process_audio_data()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –±–∞–π—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ WAV
4) –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã —Å –∫–æ–¥–æ–º –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `main_simple.py`

## üìã –ß–µ–∫‚Äë–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- Python 3.9, Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- FFmpeg —Ñ–∞–π–ª—ã –ª–µ–∂–∞—Ç –≤ `transcriber/`
- BE –Ω–∞ 8001, FE –Ω–∞ 5173
- –ö–ª—é—á–∏ –∑–∞–¥–∞–Ω—ã —á–µ—Ä–µ–∑ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –í `debug_microphone.html` –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Ñ–æ–Ω

---

–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –î–ª—è –ø–æ–ª–Ω–æ–π –ø–æ—à–∞–≥–æ–≤–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–º. –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –≤—ã—à–µ (—Ä–∞–Ω–µ–µ: SOLUTION_GUIDE, WEBM_PROBLEM_ANALYSIS, MICROPHONE_PROBLEM_FOUND, FIXES_SUMMARY, FINAL_FIXES_STATUS). üéâ